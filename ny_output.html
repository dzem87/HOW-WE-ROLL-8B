<!DOCTYPE html>
  <html lang="no">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>OUTPUT</title>

        <style>
      canvas {
        position: absolute;
      }
            .center {
                margin: 0 auto;
                text-align: center;
                width: 500px;
            }
            #canvas {
                z-index: 100;
            }

        </style>


  </head>
  <body >

        <!--Her brukes div id center over canvas elementene for Ã¥ plassere de i midten-->
    <canvas width="1000px" height="1000px" id="canvas"></canvas>
    <canvas width="1000px" height="1000px" id="canvas2"></canvas>
    
<script>
    //Henter all daten sendt inn fra input siden fra serveren 
    const urls = ["https://bacit.info/hwr/20221212230609-8639e31a8793c3000ab5d9fb8900c905.json",
              "https://bacit.info/hwr/20221212230622-ca01c7442d57bcb838a59d34a461bbeb.json",
              "https://bacit.info/hwr/20221212230638-dcd1426e46d369f1aca42f267711e9f8.json",
              "https://bacit.info/hwr/20221212230704-68dd675a38d46c0b022efb9f9eb87643.json",
              "https://bacit.info/hwr/20221212230718-89673f240a7234220defb3b8fc4f3628.json",
];
Promise.all(urls.map(url =>
    fetch(url).then(resp => resp.json())
)).then(data => {

    let colors = []
    for (let j = 0; j < data.length; j++) {
    // Generate random red, green, and blue values
    let red = Math.floor(Math.random() * 256);
    let green = Math.floor(Math.random() * 256);
    let blue = Math.floor(Math.random() * 256);
    let color = "rgb(" + red + "," + green + "," + blue + ")";
    // Check if the color already exists in the array
    if (!colors.includes(color)) {
        // Add the color if it doesn't exist
        colors.push(color)
    }
}

function drawCircle(x, y, color) {
  // Get the canvas element and its 2D context
  var canvas = document.getElementById('canvas');
  var ctx = canvas.getContext("2d");
  // Draw the circle using the x and y coordinates and the specified color
  ctx.beginPath();
  ctx.lineWidth = 2;
  ctx.fillStyle = color;
  ctx.strokeStyle = 'black';
  ctx.arc(x, y, 8, 0, Math.PI*2, true);
  ctx.stroke();
  ctx.fill();
  ctx.closePath();
}
function drawDashedLine(y) {
  // Get the canvas element and its 2D context
  var canvas = document.getElementById('canvas2');
  var ctx = canvas.getContext("2d");
  // Draw the lines
  ctx.beginPath();
  ctx.moveTo(40, y);
  ctx.lineTo(460, y);
  ctx.strokeStyle = 'black';
  ctx.stroke();
  ctx.closePath();
}
for (let i = 0; i < data.length; i++) {
    let color = colors[i];
    let y = 150;
  // Get the current element
  let element = data[i];
  
  // Iterate over the properties of the current element
  for (let property in element) {
    if (property === "navn" || property === "trxid" || property === "time") continue;
    // Call drawDashedLine() with the current y coordinate
    let x = element[property];

    drawDashedLine(y);
    drawCircle(x, y, color);
    // Increment the y coordinate for the next iteration
    y += 100;
  }  
}

});
  





    </script>


  </body>
  </html>